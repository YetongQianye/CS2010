#include"lcd.h"
#include"dir.h"
#include<stdlib.h>
#include"LinkedList.h"
#include"jpeg.h"
#include"touch.h"

//#define DEBUG

char wordNum[11][3*48] = 
{
{
/*--  文字:  0  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7E,0x00,0x01,0xE7,0x80,0x03,0xC3,
0xC0,0x07,0x81,0xE0,0x0F,0x80,0xF0,0x0F,0x00,0xF0,0x1F,0x00,0xF8,0x1E,0x00,0xF8,
0x3E,0x00,0x78,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,
0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,
0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x78,
0x1E,0x00,0xF8,0x1F,0x00,0xF8,0x0F,0x00,0xF0,0x0F,0x81,0xF0,0x07,0x81,0xE0,0x03,
0xC3,0xC0,0x01,0xE7,0x80,0x00,0x7E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{
/*--  文字:  1  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x00,0x00,0x1C,0x00,0x00,0x7C,
0x00,0x07,0xFC,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,
0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,
0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,
0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,
0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,
0x3E,0x00,0x00,0x7F,0x00,0x07,0xFF,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{

/*--  文字:  2  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x03,0xC7,0xC0,0x07,0x01,
0xE0,0x0E,0x00,0xF0,0x1E,0x00,0xF8,0x1E,0x00,0xF8,0x3E,0x00,0x78,0x3E,0x00,0x78,
0x3F,0x00,0x78,0x3F,0x00,0x78,0x1F,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF0,0x00,
0x01,0xF0,0x00,0x03,0xE0,0x00,0x03,0xC0,0x00,0x07,0x80,0x00,0x0F,0x00,0x00,0x1E,
0x00,0x00,0x3C,0x00,0x00,0x78,0x00,0x00,0xF0,0x00,0x01,0xE0,0x00,0x03,0xC0,0x00,
0x07,0x80,0x1C,0x07,0x00,0x1C,0x0E,0x00,0x38,0x1C,0x00,0x38,0x3C,0x00,0x78,0x3F,
0xFF,0xF8,0x3F,0xFF,0xF8,0x3F,0xFF,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{

/*--  文字:  3  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0x00,0x07,0x87,0x80,0x0F,0x03,
0xC0,0x1E,0x01,0xE0,0x1E,0x01,0xF0,0x1E,0x01,0xF0,0x1F,0x00,0xF0,0x1F,0x00,0xF0,
0x1E,0x00,0xF0,0x00,0x00,0xF0,0x00,0x01,0xF0,0x00,0x01,0xF0,0x00,0x03,0xE0,0x00,
0x03,0xC0,0x00,0x0F,0x00,0x00,0xFE,0x00,0x00,0x07,0x80,0x00,0x01,0xE0,0x00,0x00,
0xF0,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0x78,0x00,0x00,0x7C,0x1E,0x00,0x7C,
0x3F,0x00,0x7C,0x3F,0x00,0x7C,0x3F,0x00,0x78,0x3E,0x00,0xF8,0x1E,0x00,0xF0,0x0F,
0x01,0xE0,0x07,0x87,0xC0,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{

/*--  文字:  4  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x03,0xC0,0x00,0x07,
0xC0,0x00,0x0F,0xC0,0x00,0x0F,0xC0,0x00,0x1F,0xC0,0x00,0x3F,0xC0,0x00,0x3F,0xC0,
0x00,0x77,0xC0,0x00,0x77,0xC0,0x00,0xE7,0xC0,0x01,0xC7,0xC0,0x01,0xC7,0xC0,0x03,
0x87,0xC0,0x07,0x07,0xC0,0x07,0x07,0xC0,0x0E,0x07,0xC0,0x1E,0x07,0xC0,0x1C,0x07,
0xC0,0x38,0x07,0xC0,0x38,0x07,0xC0,0x7F,0xFF,0xFE,0x7F,0xFF,0xFE,0x00,0x07,0xC0,
0x00,0x07,0xC0,0x00,0x07,0xC0,0x00,0x07,0xC0,0x00,0x07,0xC0,0x00,0x07,0xC0,0x00,
0x07,0xC0,0x00,0x07,0xE0,0x00,0x7F,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{

/*--  文字:  5  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0xFF,0xF8,0x0F,0xFF,0xF8,0x0F,0xFF,
0xF8,0x0E,0x00,0x00,0x0E,0x00,0x00,0x0E,0x00,0x00,0x0E,0x00,0x00,0x0E,0x00,0x00,
0x0E,0x00,0x00,0x0E,0x00,0x00,0x0E,0x00,0x00,0x0E,0x7F,0x00,0x0D,0xFF,0xC0,0x0F,
0xC3,0xE0,0x1F,0x01,0xF0,0x1E,0x00,0xF8,0x1E,0x00,0xF8,0x00,0x00,0x78,0x00,0x00,
0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x00,0x00,0x7C,0x1E,0x00,0x7C,0x3F,0x00,0x7C,
0x3F,0x00,0x78,0x3F,0x00,0x78,0x3E,0x00,0xF8,0x1E,0x00,0xF0,0x1E,0x01,0xF0,0x0E,
0x01,0xE0,0x07,0x87,0xC0,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{

/*--  文字:  6  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0xC0,0x00,0xF1,0xE0,0x03,0xC1,
0xF0,0x07,0x81,0xF8,0x07,0x01,0xF8,0x0F,0x00,0xF0,0x1F,0x00,0x00,0x1E,0x00,0x00,
0x1E,0x00,0x00,0x3E,0x00,0x00,0x3E,0x00,0x00,0x3E,0x00,0x00,0x3E,0x3F,0x80,0x3E,
0xFF,0xE0,0x3F,0xE3,0xF0,0x3F,0x80,0xF8,0x3F,0x00,0xF8,0x3F,0x00,0x7C,0x3E,0x00,
0x7C,0x3E,0x00,0x7C,0x3E,0x00,0x3C,0x3E,0x00,0x3C,0x3E,0x00,0x3C,0x3E,0x00,0x3C,
0x3E,0x00,0x7C,0x1E,0x00,0x7C,0x1F,0x00,0x78,0x0F,0x00,0x78,0x0F,0x80,0xF0,0x07,
0xC0,0xE0,0x03,0xE3,0xC0,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{

/*--  文字:  7  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0xFF,0xFC,0x1F,0xFF,0xFC,0x1F,0xFF,
0xF8,0x1F,0x00,0x38,0x1C,0x00,0x70,0x1C,0x00,0xE0,0x38,0x00,0xE0,0x38,0x01,0xC0,
0x00,0x01,0xC0,0x00,0x03,0x80,0x00,0x03,0x80,0x00,0x07,0x80,0x00,0x07,0x00,0x00,
0x0F,0x00,0x00,0x0E,0x00,0x00,0x1E,0x00,0x00,0x1E,0x00,0x00,0x3C,0x00,0x00,0x3C,
0x00,0x00,0x3C,0x00,0x00,0x7C,0x00,0x00,0x78,0x00,0x00,0x78,0x00,0x00,0xF8,0x00,
0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,
0xF8,0x00,0x00,0xF8,0x00,0x00,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{

/*--  文字:  8  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x07,0xC3,0xC0,0x0F,0x00,
0xE0,0x1E,0x00,0xF0,0x1E,0x00,0x78,0x3C,0x00,0x78,0x3C,0x00,0x78,0x3C,0x00,0x7C,
0x3E,0x00,0x78,0x3E,0x00,0x78,0x1F,0x00,0x78,0x1F,0x80,0xF0,0x0F,0xE1,0xE0,0x07,
0xFB,0xC0,0x01,0xFF,0x80,0x01,0xFF,0x80,0x07,0xBF,0xC0,0x0F,0x0F,0xE0,0x1E,0x03,
0xF0,0x3E,0x01,0xF8,0x3C,0x00,0xF8,0x3C,0x00,0x7C,0x7C,0x00,0x7C,0x78,0x00,0x3C,
0x78,0x00,0x3C,0x7C,0x00,0x3C,0x3C,0x00,0x78,0x3C,0x00,0x78,0x1E,0x00,0x70,0x0F,
0x00,0xE0,0x07,0xC3,0xC0,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{

/*--  文字:  9  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFE,0x00,0x07,0xC7,0x80,0x0F,0x01,
0xE0,0x1E,0x01,0xE0,0x1E,0x00,0xF0,0x3E,0x00,0xF8,0x3C,0x00,0x78,0x3C,0x00,0x78,
0x7C,0x00,0x7C,0x7C,0x00,0x7C,0x7C,0x00,0x7C,0x7C,0x00,0x7C,0x7C,0x00,0x7C,0x3C,
0x00,0xFC,0x3E,0x00,0xFC,0x3E,0x01,0xFC,0x1F,0x03,0xFC,0x1F,0x8F,0xFC,0x0F,0xFF,
0x7C,0x03,0xFC,0x7C,0x00,0x00,0x7C,0x00,0x00,0xF8,0x00,0x00,0xF8,0x00,0x00,0xF8,
0x00,0x00,0xF0,0x00,0x01,0xF0,0x0F,0x01,0xE0,0x1F,0x01,0xE0,0x1F,0x03,0xC0,0x1F,
0x07,0x80,0x0F,0x9F,0x00,0x03,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},{
/*--  文字:  :  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=24x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x00,0x00,0xFE,0x00,0x00,0xFE,0x00,0x00,
0xFE,0x00,0x00,0x7C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x00,0x00,
0xFE,0x00,0x00,0xFE,0x00,0x00,0xFE,0x00,0x00,0x7C,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
}
};

char wordNum1[2][6*48] = 
{
{
/*--  文字:  星  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=48x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x30,0x00,0x00,0x1C,0x00,0x00,0x3F,0xFF,0xFF,0xFE,0x00,0x00,0x3F,
0xFF,0xFF,0xFF,0x00,0x00,0x3C,0x00,0x00,0x3E,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,
0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3F,0xFF,0xFF,
0xFC,0x00,0x00,0x3F,0xFF,0xFF,0xFC,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,
0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3C,0x00,0x00,0x3E,0x00,
0x00,0x3C,0x00,0x00,0x3E,0x00,0x00,0x3F,0xFF,0xFF,0xFE,0x00,0x00,0x3F,0xFF,0xFF,
0xFE,0x00,0x00,0x3C,0x03,0x00,0x3E,0x00,0x00,0x38,0x03,0xC0,0x3C,0x00,0x00,0x1C,
0x03,0xF0,0x00,0x00,0x00,0x3F,0x03,0xC0,0x00,0x00,0x00,0x3E,0x03,0xC0,0x0E,0x00,
0x00,0x3C,0x03,0xC0,0x1F,0x00,0x00,0x7F,0xFF,0xFF,0xFF,0x80,0x00,0x7F,0xFF,0xFF,
0xFF,0xC0,0x00,0xF0,0x03,0xC0,0x00,0x00,0x00,0xF0,0x03,0xC0,0x00,0x00,0x01,0xE0,
0x03,0xC0,0x00,0x00,0x01,0xC0,0x03,0xC0,0x00,0x00,0x03,0xC0,0x03,0xC0,0x30,0x00,
0x07,0x80,0x03,0xC0,0x78,0x00,0x0F,0x3F,0xFF,0xFF,0xFC,0x00,0x0E,0x3F,0xFF,0xFF,
0xFE,0x00,0x1C,0x18,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,
0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0x00,0x00,0x00,0x03,0xC0,0x00,0xE0,
0x00,0x00,0x03,0xC0,0x01,0xF0,0x3F,0xFF,0xFF,0xFF,0xFF,0xF8,0x3F,0xFF,0xFF,0xFF,
0xFF,0xFC,0x1E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},
{
/*--  文字:  期  --*/
/*--  宋体36;  此字体下对应的点阵为：宽x高=48x48   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x18,0x00,
0x00,0x00,0x00,0xF8,0x1E,0x00,0x00,0x00,0x00,0xFC,0x1F,0x0C,0x00,0x60,0x00,0xF8,
0x1E,0x0F,0xFF,0xF8,0x00,0xF8,0x1E,0x0F,0xFF,0xF8,0x00,0xF8,0x1E,0x0F,0x00,0xF0,
0x00,0xF8,0x1F,0xCF,0x00,0xF0,0x1F,0xFF,0xFF,0xEF,0x00,0xF0,0x1F,0xFF,0xFF,0xFF,
0x00,0xF0,0x0E,0xF8,0x1E,0x0F,0x00,0xF0,0x00,0xF8,0x1E,0x0F,0x00,0xF0,0x00,0xF8,
0x1E,0x0F,0x00,0xF0,0x00,0xF8,0x1E,0x0F,0x00,0xF0,0x00,0xFF,0xFE,0x0F,0xFF,0xF0,
0x00,0xFF,0xFE,0x0F,0xFF,0xF0,0x00,0xF8,0x1E,0x0F,0x00,0xF0,0x00,0xF8,0x1E,0x0F,
0x00,0xF0,0x00,0xF8,0x1E,0x0F,0x00,0xF0,0x00,0xF8,0x1E,0x0F,0x00,0xF0,0x00,0xF8,
0x1E,0x0F,0x00,0xF0,0x00,0xFF,0xFE,0x0F,0x00,0xF0,0x00,0xFF,0xFE,0x0F,0x00,0xF0,
0x00,0xF8,0x1E,0x0F,0x00,0xF0,0x00,0xF8,0x1E,0x0F,0x00,0xF0,0x00,0xF8,0x1E,0x0F,
0xFF,0xF0,0x00,0xF8,0x1E,0x0F,0xFF,0xF0,0x00,0xF8,0x1F,0xCF,0x00,0xF0,0x1F,0xFF,
0xFF,0xEF,0x00,0xF0,0x1F,0xFF,0xFF,0xFF,0x00,0xF0,0x0E,0x00,0x00,0x0F,0x00,0xF0,
0x00,0x18,0x60,0x1F,0x00,0xF0,0x00,0x3C,0x78,0x1E,0x00,0xF0,0x00,0x3E,0x3C,0x1E,
0x00,0xF0,0x00,0x7C,0x1E,0x3E,0x00,0xF0,0x00,0xF8,0x1F,0x3C,0x00,0xF0,0x00,0xF0,
0x0F,0xBC,0x00,0xF0,0x01,0xE0,0x0F,0x78,0x00,0xF0,0x03,0xC0,0x07,0xF0,0x00,0xF0,
0x07,0x80,0x06,0xF0,0x00,0xF0,0x0F,0x00,0x01,0xE0,0x7F,0xF0,0x1E,0x00,0x03,0xC0,
0x1F,0xF0,0x3C,0x00,0x07,0x80,0x07,0xE0,0x30,0x00,0x0E,0x00,0x03,0xC0,0x00,0x00,
0x1C,0x00,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
},
};

char wordNum2[3][4*33] = 
{
{
/*--  文字:  年  --*/
/*--  宋体24;  此字体下对应的点阵为：宽x高=32x33   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0xF0,0x00,0x00,
0x01,0xE0,0x00,0x00,0x01,0xE0,0x00,0x30,0x01,0xC0,0x00,0x78,0x03,0xFF,0xFF,0xFC,
0x07,0x81,0xE0,0x00,0x07,0x01,0xE0,0x00,0x0E,0x01,0xE0,0x00,0x1C,0x01,0xE0,0x00,
0x1C,0x01,0xE0,0xC0,0x3B,0x81,0xE1,0xE0,0x63,0xFF,0xFF,0xF0,0x03,0xC1,0xE0,0x00,
0x03,0xC1,0xE0,0x00,0x03,0xC1,0xE0,0x00,0x03,0xC1,0xE0,0x00,0x03,0xC1,0xE0,0x18,
0x03,0xC1,0xE0,0x3C,0x7F,0xFF,0xFF,0xFE,0x30,0x01,0xE0,0x00,0x00,0x01,0xE0,0x00,
0x00,0x01,0xE0,0x00,0x00,0x01,0xE0,0x00,0x00,0x01,0xE0,0x00,0x00,0x01,0xE0,0x00,
0x00,0x01,0xE0,0x00,0x00,0x01,0xE0,0x00,0x00,0x01,0xE0,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00
},
{
/*--  文字:  月  --*/
/*--  宋体24;  此字体下对应的点阵为：宽x高=32x33   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x03,0x80,
0x00,0xFF,0xFF,0xC0,0x00,0xE0,0x03,0x80,0x00,0xE0,0x03,0x80,0x00,0xE0,0x03,0x80,
0x00,0xE0,0x03,0x80,0x00,0xE0,0x03,0x80,0x00,0xE0,0x03,0x80,0x00,0xFF,0xFF,0x80,
0x00,0xE0,0x03,0x80,0x00,0xE0,0x03,0x80,0x00,0xE0,0x03,0x80,0x00,0xE0,0x03,0x80,
0x00,0xE0,0x03,0x80,0x00,0xE0,0x03,0x80,0x00,0xFF,0xFF,0x80,0x00,0xE0,0x03,0x80,
0x00,0xE0,0x03,0x80,0x01,0xE0,0x03,0x80,0x01,0xE0,0x03,0x80,0x01,0xC0,0x03,0x80,
0x03,0xC0,0x03,0x80,0x03,0x80,0x03,0x80,0x07,0x00,0x03,0x80,0x07,0x00,0xFF,0x80,
0x0E,0x00,0x7F,0x80,0x3C,0x00,0x0F,0x00,0x70,0x00,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00
},
{
/*--  文字:  日  --*/
/*--  宋体24;  此字体下对应的点阵为：宽x高=32x33   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x80,0x01,0xC0,
0x03,0xFF,0xFF,0xE0,0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,
0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,
0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,0x03,0xFF,0xFF,0xC0,0x03,0x80,0x01,0xC0,
0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,
0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,
0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0xC0,0x03,0xFF,0xFF,0xC0,0x03,0x80,0x01,0xC0,
0x03,0x80,0x01,0xC0,0x03,0x80,0x01,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00
}
};


//把文字的显示写成一个函数的形式?
//x0,y0:起始位置
//w*h:文字的大小
void Lcd_draw_word(int x0,int y0,char *word,int w,int h,int color)
{
	int i,index;
	for(index=0;index<(w/8)*h;index++)  //有w*h/8个byte
	{
		for(i=7;i>=0;i--)	//每一个byte有8bit
		{
			if(word[index]&(1<<i))
			{
				lcd_draw_point((index%(w/8))*8+(7-i)+x0,index/(w/8)+y0,color);
			}
		}
	}
}

//能不能写一个函数,在指定的位置显示一个六位数以内的数字呢？
void Lcd_draw_num1(int x0,int y0,int num,int color)
{
	if(num == -1)
	{
		Lcd_draw_word(x0,y0,wordNum[10],24,48,color);
		return;
	}
	int a,b;
	a = num/10;
	b = num%10;
	if(a!=0)
	{
		Lcd_draw_word(x0,y0,wordNum[a],24,48,color);
		Lcd_draw_word(x0+24,y0,wordNum[b],24,48,color);	
	}else
	{
		Lcd_draw_word(x0,y0,wordNum[b],24,48,color);	
	}
	
	 
 
	
}

void Lcd_draw_num2(int x0,int y0,int num,int color)
{
	if(num == -1)
	{
		Lcd_draw_word(x0,y0,wordNum[10],24,48,color);
		return;
	}
	int a,b,c,d;
	a = num/1000;  //1
	b = (num%1000)/100;
	c = (num%100)/10;
	d = num%10;
	if(a!=0)
	{
		Lcd_draw_word(x0,y0,wordNum[a],24,48,color);
		Lcd_draw_word(x0+24,y0,wordNum[b],24,48,color);	
		Lcd_draw_word(x0+60,y0,wordNum[c],24,48,color);	
		Lcd_draw_word(x0+84,y0,wordNum[d],24,48,color);	
	}else if(b!=0)
	{
		Lcd_draw_word(x0,y0,wordNum[b],24,48,color);
		Lcd_draw_word(x0+36,y0,wordNum[c],24,48,color);	
		Lcd_draw_word(x0+50,y0,wordNum[d],24,48,color);	 
	}else if(c!=0)
	{
		Lcd_draw_word(x0,y0,wordNum[c],24,48,color);
		Lcd_draw_word(x0+24,y0,wordNum[d],24,48,color);	
	}else
	{
		Lcd_draw_word(x0,y0,wordNum[d],24,48,color);	
	}

}

//显示时钟、日历
void show_clock()
{	 		
	int sec = 0,min = 0,hour = 0;
	int year = 2020,month = 8, day = 5;
	for(sec=0;sec<=60;sec++)
	{
		//星期
		Lcd_draw_rect(600,90,150,48,0x00125D7F);
		Lcd_draw_word(600,90,wordNum1[0],48,48,0x00fe30bd);
		Lcd_draw_word(650,90,wordNum1[1],48,48,0x00fe30bd);
		Lcd_draw_word(700,90,wordNum[3],24,48,0x00fe30bd);
				

		//冒号及秒，分，时
		Lcd_draw_rect(550,180,230,48,0x00125D7F);
		Lcd_draw_num1(600,180,-1,0x00ff0000);

		Lcd_draw_num1(690,180,-1,0x00ff0000);	

		Lcd_draw_num1(730,180,sec,0x00ff0000);		
			
		Lcd_draw_num1(640,180,min,0x00ff0000);	
		  	
		Lcd_draw_num1(550,180,hour,0x00ff0000);		
		 
		
		//年月日
		Lcd_draw_rect(450,20,340,48,0x00125D7F);

		Lcd_draw_word(560,30,wordNum2[0],32,33,0x00fe30bd);
		Lcd_draw_word(650,30,wordNum2[1],32,33,0x00fe30bd);
		Lcd_draw_word(750,30,wordNum2[2],32,33,0x00fe30bd);

		Lcd_draw_num1(700,20,day,0x00ff0000);				
		
		Lcd_draw_num1(600,20,month,0x00ff0000);			 
	 	
		Lcd_draw_num2(450,20,year,0x00ff0000);		  
	 
		sleep(1);
		if(sec==59)
		{			
			sec = 0;
			min++;
		 
			if(min==59)
			{
				min = 0;
				hour++;
			}
			if(hour==23)
			{
				hour= 0;
				day++;
			}
			if(day==30)
			{
				day = 1;
				month++;
			}
			if(month==12)
			{
				month = 1;
				year++;
			}

		}		
	}
}

//自动播放
void auto_play(LinkedList *LPIC,struct node *p)
{
	printf("-------auto play ---------\n");
	enum drec DEC;
	while(1)
	{	
		DEC = get_touch();
		if(DEC == UP)
		{
			break;
		}
		p = p->next;
		if(p==NULL)
		{
			p = LPIC->first;
		}
		//判断一个文件是否为BMP图片
		//如果是 返回 1，否则 返回0
		if(isBMP(p->data))
		{
			printf("bmp  %s\n",p->data);
			lcd_draw_bmp(0,0,p->data);
		}
		//判断一个文件是否为JPG图片
		//如果是 返回 1，否则 返回0
		if(isJPG(p->data))
		{
			printf("jpg  %s\n",p->data);
			lcd_draw_jpg(0,0,p->data);
		}	
		sleep(3);
	}
}


//显示图片，滑动可切换。
void show_pic()
{	 
	//创建链表且找到指定目录中所有图片保存到链表中
	LinkedList* LPIC = create_linklist();
	LPIC = fun_dir_bmp("/home/cs2010/code/cs/0803",LPIC);
	
	struct node *p = LPIC->first;
	if(p == NULL) //整个目录都没有图片文件
	{
		printf("dir no pic\n");
		//关闭
		lcd_uninit();
		return;
	}
	enum drec DEC;
	
	//显示一张起始图片(链表的第一张图片)
	if(isBMP(p->data))
	{
		lcd_draw_bmp(0,0,p->data);
	}
	//判断一个文件是否为JPG图片
	//如果是 返回 1，否则 返回0
	if(isJPG(p->data))
	{
		lcd_draw_jpg(0,0,p->data);
	}
	
	while(1)
	{
#ifdef DEBUG		
		printf("%s\n",p->data);
#endif
		
		DEC = get_touch();
		if(DEC == NOT) //没有触摸，不作处理
		{
			continue;
		}
		else if(DEC == LEFT)
		{
			//显示上一张
			p = find_pre(LPIC,p);
			
		}else if(DEC == RIGHT)
		{
			//显示上一张
			p = p->next;
			if(p==NULL)
			{
				p = LPIC->first;
			}
		}else if(DEC == DOWN)
		{
			//进入自动播放
			auto_play(LPIC,p);
		}
		
		printf("-------shou dong play ---------\n");
		//判断一个文件是否为BMP图片
		//如果是 返回 1，否则 返回0
		if(isBMP(p->data))
		{
			printf("bmp  %s\n",p->data);
			lcd_draw_bmp(0,0,p->data);
		}
		//判断一个文件是否为JPG图片
		//如果是 返回 1，否则 返回0
		if(isJPG(p->data))
		{
			printf("jpg  %s\n",p->data);
			lcd_draw_jpg(0,0,p->data);
		}			
		
	}

	print_list(LPIC);
	
	delete_listwithhead(LPIC);
}



int main(int argc,char *argv[])
{
	//初始化屏幕
	lcd_init();
	//清屏
	lcd_clear(0x0000ff00);

	//建立进程
	pid_t pid = fork();
	if(pid > 0)
	{
		show_clock();
	}
	else if(pid == 0)
	{
	 
		show_pic();
		 
	}

#if 0
	//lcd_draw_bmp(50,50,"1.bmp");
	//创建链表且找到指定目录中所有图片保存到链表中
	LinkedList* LPIC = create_linklist();
	LPIC = fun_dir_bmp("/home/cs2010/code/homework/0803-04",LPIC);
	
	struct node *p = LPIC->first;
	if(p == NULL) //整个目录都没有图片文件
	{
		printf("dir no pic\n");
		//关闭
		lcd_uninit();
		return -1;
	}
	enum drec DEC;
	
	//显示一张起始图片(链表的第一张图片)
	if(isBMP(p->data))
	{
		lcd_draw_bmp(0,0,p->data);
	}
	//判断一个文件是否为JPG图片
	//如果是 返回 1，否则 返回0
	if(isJPG(p->data))
	{
		lcd_draw_jpg(0,0,p->data);
	}
 
	while(1)
	{
#ifdef DEBUG		
		printf("%s\n",p->data);
#endif
		
		DEC = get_touch();
		if(DEC == NOT) //没有触摸，不作处理
		{
			continue;
		}
		else if(DEC == LEFT)
		{
			//显示上一张
			p = find_pre(LPIC,p);
			
		}else if(DEC == RIGHT)
		{
			//显示上一张
			p = p->next;
			if(p==NULL)
			{
				p = LPIC->first;
			}
		}else if(DEC == DOWN)
		{
			//进入自动播放
			auto_play(LPIC,p);
		}
 

		printf("-------shou dong play ---------\n");
		//判断一个文件是否为BMP图片
		//如果是 返回 1，否则 返回0
		if(isBMP(p->data))
		{
			printf("bmp  %s\n",p->data);
			lcd_draw_bmp(0,0,p->data);
		}
		//判断一个文件是否为JPG图片
		//如果是 返回 1，否则 返回0
		if(isJPG(p->data))
		{
			printf("jpg  %s\n",p->data);
			lcd_draw_jpg(0,0,p->data);
		}	
		
		
	}
 
 
	print_list(LPIC);
	
	delete_listwithhead(LPIC);
 
#endif	
	
	//关闭
	lcd_uninit();
	
	return 0;
}